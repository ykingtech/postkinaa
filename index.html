<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂± / ‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <style>
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4">

    <div class="w-full max-w-md bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl border border-purple-100 p-8 fade-in">
        <h2 class="text-4xl font-bold text-center mb-6 bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-pink-600">
            üëã ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±
        </h2>

        <div id="themeSelector" class="flex justify-center space-x-3 mb-6">
            <button onclick="setTheme('default')" class="p-2 w-10 h-10 rounded-full shadow-md bg-gradient-to-r from-purple-500 to-pink-500 hover:scale-110 transition-transform duration-200" title="Theme 1"></button>
            <button onclick="setTheme('green')" class="p-2 w-10 h-10 rounded-full shadow-md bg-gradient-to-r from-green-500 to-teal-500 hover:scale-110 transition-transform duration-200" title="Theme 2"></button>
            <button onclick="setTheme('blue')" class="p-2 w-10 h-10 rounded-full shadow-md bg-gradient-to-r from-blue-500 to-indigo-500 hover:scale-110 transition-transform duration-200" title="Theme 3"></button>
        </div>

        <input
            type="email"
            id="authEmail"
            placeholder="‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω (Email)"
            class="w-full px-5 py-3 mb-4 bg-gray-50 rounded-xl border-2 border-gray-200 focus:border-purple-400 focus:bg-white outline-none transition-all duration-200"
        />
        <input
            type="password"
            id="authPassword"
            placeholder="‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫ (Password)"
            class="w-full px-5 py-3 mb-6 bg-gray-50 rounded-xl border-2 border-gray-200 focus:border-purple-400 focus:bg-white outline-none transition-all duration-200"
        />

        <button
            onclick="signIn()"
            id="signInButton"
            class="w-full px-6 py-3 bg-purple-500 text-white rounded-xl font-semibold hover:bg-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 mb-3"
        >
            ‚û°Ô∏è ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂± (Sign In)
        </button>

        <button
            onclick="signUp()"
            id="signUpButton"
            class="w-full px-6 py-3 bg-pink-500 text-white rounded-xl font-semibold hover:bg-pink-600 shadow-lg hover:shadow-xl transition-all duration-200"
        >
            ‚ûï ‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂± (Sign Up)
        </button>

        <p id="authMessage" class="text-center mt-4 text-sm text-gray-600"></p>
    </div>

    <script>
        // Firebase Configuration (‡∂î‡∂∂‡∑ö‡∂∏ config ‡∂ë‡∂ö ‡∂∫‡∑ú‡∂Ø‡∂±‡∑ä‡∂±)
        const firebaseConfig = {
            apiKey: "AIzaSyAzNJ-P8aAMvTuNWKcQYCjIIHiaL0BpdZ0",
            authDomain: "game-f1c21.firebaseapp.com",
            databaseURL: "https://game-f1c21-default-rtdb.firebaseio.com",
            projectId: "game-f1c21",
            storageBucket: "game-f1c21.firebasestorage.app",
            messagingSenderId: "656338565711",
            appId: "1:656338565711:web:395f9c7f846588b065883a",
            measurementId: "G-2M7BJXBB7W"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const authMessage = document.getElementById('authMessage');
        const authEmail = document.getElementById('authEmail');
        const authPassword = document.getElementById('authPassword');

        // Theme Setting Function
        function setTheme(theme) {
            localStorage.setItem('appTheme', theme);
            document.body.className = 'min-h-screen p-4 flex items-center justify-center ' + getThemeClass(theme).bg;
        }

        function getThemeClass(themeName) {
            switch (themeName) {
                case 'green':
                    return { bg: 'bg-gradient-to-br from-green-50 via-teal-50 to-cyan-50', header: 'bg-gradient-to-r from-green-600 via-teal-600 to-cyan-600' };
                case 'blue':
                    return { bg: 'bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50', header: 'bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600' };
                default:
                    return { bg: 'bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50', header: 'bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600' };
            }
        }

        // Check for existing theme on load
        const storedTheme = localStorage.getItem('appTheme') || 'default';
        setTheme(storedTheme);

        // Check if user is already logged in
        auth.onAuthStateChanged(user => {
            if (user) {
                // If logged in, redirect to the new main page name
                window.location.href = 'Home.html';
            }
        });

        // Sign Up function (Added .trim() for invalid email fix)
        function signUp() {
            const email = authEmail.value.trim();
            const password = authPassword.value;
            
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    authMessage.textContent = '‚úÖ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∑í‡∂∫! ‡∂î‡∂∂‡∑Ä ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∂ª‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö...';
                    setTimeout(() => {
                        window.location.href = 'Home.html'; // Redirect to Home.html
                    }, 1500);
                })
                .catch((error) => {
                    authMessage.textContent = `‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂Ø‡∑ù‡∑Ç‡∂∫: ${error.message}`;
                });
        }

        // Sign In function (Added .trim() for invalid email fix)
        function signIn() {
            const email = authEmail.value.trim();
            const password = authPassword.value;
            
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    authMessage.textContent = '‚úÖ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂á‡∂≠‡∑î‡∂Ω‡∑ä ‡∑Ä‡∑í‡∂∫! ‡∂î‡∂∂‡∑Ä ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∂ª‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö...';
                    setTimeout(() => {
                        window.location.href = 'Home.html'; // Redirect to Home.html
                    }, 1500);
                })
                .catch((error) => {
                    authMessage.textContent = `‡∂á‡∂≠‡∑î‡∂Ω‡∑ä ‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂Ø‡∑ù‡∑Ç‡∂∫: ${error.message}`;
                });
        }
    </script>
</body>
</html>